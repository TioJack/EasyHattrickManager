<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="easyhattrickmanager.repository.TranslationDAO">

  <insert id="insert">
    INSERT
    IGNORE INTO translation (language_id, `key`, `value`)
    VALUES (
    #{translation.languageId},
    #{translation.key},
    #{translation.value}
    );
  </insert>

  <update id="upsert">
    INSERT INTO translation (language_id, `key`, `value`)
    VALUES (#{translation.languageId},
            #{translation.key},
            #{translation.value}) ON DUPLICATE KEY
    UPDATE
      `value` = #{translation.value};
  </update>

  <select id="getAllTranslations" resultType="easyhattrickmanager.repository.model.Translation">
    SELECT language_id, `key`, `value`
    FROM translation;
  </select>

  <delete id="deleteEHMTranslations">
    DELETE
    FROM translation
    WHERE `key` LIKE 'ehm.%';
  </delete>
</mapper>